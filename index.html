<!DOCTYPE HTML>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<meta http-equiv="Content-type" content="text/html; charset=utf-8">
<title>ZYKY</title>
<link href="css/styles.css" rel="stylesheet">
<link href="css/jquery.mobile-1.3.2.css" rel="stylesheet">
<script src="js/jquery-1.7.2.min.js" type="text/javascript"></script>
<script src="js/jquery.mobile-1.3.2.min.js" type="text/javascript"></script>
<script src="js/jquery.knob.js" type="text/javascript"></script>
<script src="phonegap.js" type="text/javascript"></script>
<script src="childbrowser.js" type="text/javascript"></script>
<script src="js/all.js" type="text/javascript"></script>
<script src="js/underscore-min.js" type="text/javascript"></script>
<script src="js/backbone-min.js" type="text/javascript"></script>
<script src="js/script.js" type="text/javascript"></script>
<script src="js/filter.js" type="text/javascript"></script>
<script>
// Wait for device API libraries to load //
        document.addEventListener("deviceready", onDeviceReady, false);

        // device APIs are available //
        function onDeviceReady() {
        }

        // Audio player //
        var my_media = null;
        var mediaTimer = null;
		
		function openMedia(music){
			window.location.href="#mediaPlayer";
			//localstorage for music link
			localStorage.music_url=music;
			//set attr for mus_link id.
			$('#mus_link').attr("value",localStorage.music_url);

			}
        // Play audio//
        function playAudio() {
			
			var src =$('#mus_link').val();
            // Create Media object from src
            my_media = new Media(src, onSuccess, onError);

            // Play audio
            my_media.play();
			

            // Update my_media position every second
            if (mediaTimer == null) {
                mediaTimer = setInterval(function() {
                    // get my_media position
                    my_media.getCurrentPosition(
                        // success callback
                        function(position) {
                            if (position > -1) {
                                setAudioPosition((position) + " sec");
                            }
                        },
                        // error callback
                        function(e) {
                            console.log("Error getting pos=" + e);
                            setAudioPosition("Error: " + e);
                        }
                    );
                }, 1000);
            }
        }

        // Pause audio
        //
        function pauseAudio() {
            if (my_media) {
                my_media.pause();
            }
        }

        // Stop audio
        //
        function stopAudio() {
            if (my_media) {
                my_media.stop();
            }
            clearInterval(mediaTimer);
            mediaTimer = null;
        }

        // onSuccess Callback
        //
        function onSuccess() {
            console.log("playAudio():Audio Success");
        }

        // onError Callback
        //
        function onError(error) {
            alert('code: '    + error.code    + '\n' +
                  'message: ' + error.message + '\n');
        }

        // Set audio position
        //
        function setAudioPosition(position) {
            document.getElementById('timeElapsed').innerHTML = position;
        }
		
		//fb login with childbrowser plugin
		function loginFB(url){
			window.plugins.childBrowser.showWebPage(url, { showLocationBar: false });
			window.plugins.childBrowser.onLocationChange = function(locationLink){
				if (locationLink == "http://wiredelta.com:12001/#_=_") {
					window.plugins.childBrowser.close();
				}
			}
		}
		
		//Purchase songs with childbrowser plugin
		function openCart(cartUrl){
			var token=cartUrl + $('#tokenId').val();
			
			window.plugins.childBrowser.showWebPage(token, { showLocationBar: true });
			window.plugins.childBrowser.onLocationChange = function(locationLink){
				if (locationLink == "http://wiredelta.com:12001/tracks/mine") {
					window.plugins.childBrowser.close();
					window.location.href="#download";
				}
			}
		}
</script>
</head>

<body>
<!-- Login Page Starts Here-->
<div data-role="page" id="login">
  <div data-theme="g" data-role="header" class="header"><h3> LOG IN </h3>
  </div>
  <div data-role="content" class="loginContent"> 
  <a data-role="button" href="#" onClick="loginFB('http://wiredelta.com:12001/auth/auth/facebook')" class="facebook_sign_up"> <span>Sign in with Facebook</span> </a>
    <h3>OR</h3>
    
  </div>
  <div data-role="none" id="signRes" align="center"></div>
  <form class="loginform">
    <div data-role="fieldcontain">
      <input  placeholder="Email" id="email" value="" type="text" class="email">
    </div>
    <div data-role="fieldcontain">
      <input  placeholder="Password" id="pwd" value="" type="password" class="password">
    </div>
    <div class="forgotPassword">
     <a href="#">Forgot Password ?</a>
    </div>
    <div class="signupbox"> <a data-role="button" href="#signup" class="signup" data-transition="fade"></a>
      <label>Sign Up</label>
    </div>
    <div class="signinbox"> <a data-role="button" href="#" onClick="signIn()" class="signin"></a>
    <input type="hidden" id="tokenId" value="0"/>
      <label>Sign In</label>
    </div>
  </form>
</div>
<!-- Login Page ends Here--> 

<!-- Signup Page Starts Here-->
<div data-role="page" id="signup">
  <div data-theme="g" data-role="header" class="header">
    <h3> SIGN UP </h3>
  </div>
  <div data-role="content">
    <form class="signupform">
      <div data-role="fieldcontain">
        <input name="" placeholder="Name" value="" type="text" class="textbox">
      </div>
      <div data-role="fieldcontain">
        <input name="" placeholder="Email" value="" type="text" class="textbox">
      </div>
      <div data-role="fieldcontain">
        <input name="" placeholder="Password" value="" type="text" class="textbox">
      </div>
      <div data-role="fieldcontain">
        <input name="" placeholder="Confirm Password" value="" type="text" class="textbox">
      </div>
      <div data-role="fieldcontain">
        <input name="" placeholder="Phone Number" value="" type="text" class="textbox">
      </div>
      <div data-role="fieldcontain">
        <input name="" placeholder="State" value="" type="text" class="textbox">
      </div>
      <div data-role="fieldcontain">
        <input name="" placeholder="Country" value="" type="text" class="textbox">
      </div>
      <div class="signupbox"> <a data-role="button" href="#songsLibrary" class="confirm" data-transition="pop"></a>
        <label>SUBMIT</label>
      </div>
      <div class="signinbox"> <a data-role="button" href="#login" class="cancel" data-transition="pop"></a>
        <label>CANCEL</label>
      </div>
    </form>
  </div>
</div>
<!-- Signup Page ends Here--> 

<!-- Songs Library Page Starts Here-->
<div data-role="page" id="songsLibrary">
  <div data-role="panel" id="loginDetails" data-theme="a" data-position="left" data-display="overlay">
    <div data-theme="g" data-role="header" class="header header2">
      <h3>ZYKY </h3><img src="images/close1.png" alt="" class="close" data-rel="close">
    </div>
    <div data-role="content">
      <div class="profileDetails">
        <div class="profileImage"><img src="images/profileImg.png" alt=""></div>
        <br/>
        <div class="profileName">
          <h4>Greyson Sterling</h4>
          <h5>San Francisco, CA</h5>
        </div>
      </div>
      <div class="profileFeatures">
        <p><a href="#hitList" onClick="hitList()"><img src="images/hitlist_icon.png" alt=""> Hit List</a></p>
        <p><a href="#freeList" onClick="freeList()"><img src="images/freemusic_icon.png" alt=""> Free Music</a></p>
        <p><a href="#search"><img src="images/findmusic_icon.png" alt=""> Find Music</a></p>
        <p><a href="#"><img src="images/download_icon.png" alt="">My Downloads</a></p>
        <p><a href="#"><img src="images/user_icon.png" alt=""> User</a></p>
      </div>
    </div>
  </div>
  <div data-theme="g" data-role="header" class="header fixedhead" data-position="fixed"> <a data-role="button" href="#loginDetails" class="ui-btn-left more" data-transition="slide"></a>
    <h3> playlist </h3>
  </div>
  <div data-role="content">
  
  <div data-role="none" class="song-temp">
  <!--playlist rendering-->
  </div>

    
  </div>
</div>
<!-- Songs Library ends Here--> 

<!--free Songs  Page Starts Here-->
<div data-role="page" id="freeList">
  <div data-role="panel" id="loginDetails" data-theme="a" data-position="left" data-display="overlay">
    <div data-theme="g" data-role="header" class="header header2">
      <h3>ZYKY </h3><img src="images/close1.png" alt="" class="close" data-rel="close">
    </div>
    <div data-role="content">
      <div class="profileDetails">
        <div class="profileImage"><img src="images/profileImg.png" alt=""></div>
        <br/>
        <div class="profileName">
          <h4>Greyson Sterling</h4>
          <h5>San Francisco, CA</h5>
        </div>
      </div>
      <div class="profileFeatures">
        <p><a href="#hitList" onClick="hitList()"><img src="images/hitlist_icon.png" alt=""> Hit List</a></p>
        <p><a href="#freeList" onClick="freeList()"><img src="images/freemusic_icon.png" alt=""> Free Music</a></p>
        <p><a href="#search"><img src="images/findmusic_icon.png" alt=""> Find Music</a></p>
        <p><a href="#"><img src="images/download_icon.png" alt="">My Downloads</a></p>
        <p><a href="#"><img src="images/user_icon.png" alt=""> User</a></p>
      </div>
    </div>
  </div>
  <div data-theme="g" data-role="header" class="header fixedhead" data-position="fixed"> <a data-role="button" href="#loginDetails" class="ui-btn-left more" data-transition="slide"></a>
    <h3>Free Music</h3>
  </div>
  <div data-role="content">
  
  <div data-role="none" class="free-temp">
  <!--playlist rendering-->
  </div>

    
  </div>
</div>
<!--free Songs Library ends Here--> 

<!--Hit Songs Page Starts Here-->
<div data-role="page" id="hitList">
  <div data-role="panel" id="loginDetails" data-theme="a" data-position="left" data-display="overlay">
    <div data-theme="g" data-role="header" class="header header2">
      <h3>ZYKY </h3><img src="images/close1.png" alt="" class="close" data-rel="close">
    </div>
    <div data-role="content">
      <div class="profileDetails">
        <div class="profileImage"><img src="images/profileImg.png" alt=""></div>
        <br/>
        <div class="profileName">
          <h4>Greyson Sterling</h4>
          <h5>San Francisco, CA</h5>
        </div>
      </div>
      <div class="profileFeatures">
        <p><a href="#hitList" onClick="hitList()"><img src="images/hitlist_icon.png" alt=""> Hit List</a></p>
        <p><a href="#freeList" onClick="freeList()"><img src="images/freemusic_icon.png" alt=""> Free Music</a></p>
        <p><a href="#search"><img src="images/findmusic_icon.png" alt=""> Find Music</a></p>
        <p><a href="#"><img src="images/download_icon.png" alt="">My Downloads</a></p>
        <p><a href="#"><img src="images/user_icon.png" alt=""> User</a></p>
      </div>
    </div>
  </div>
  <div data-theme="g" data-role="header" class="header fixedhead" data-position="fixed"> <a data-role="button" href="#loginDetails" class="ui-btn-left more" data-transition="slide"></a>
    <h3>Hit Music</h3>
  </div>
  <div data-role="content">
  
  <div data-role="none" class="hit-temp">
  <!--playlist rendering-->
  </div>
    
  </div>
</div>
<!--Hit Songs Library ends Here--> 

<!-- Searc Page Starts Here-->
<div data-role="page" id="search">
  <div data-theme="g" data-role="header" class="header"><h3> ZYKY </h3>
  </div>
  <div data-role="content" class="loginContent searchContent"> 
	<div class="SearchLogo">
     <img src="images/searchLogo.png" alt="">
    </div>
    <div data-role="none" id="searchField">
     <input type="text" class="email" placeholder="Search" id="keyWord" />
     </div>
     <a href="#searchTrack" class="searchBtn">SEARCH SONGS</a>
     <div class="signupbox" style="margin-top:40px;"> <a data-role="button" href="#hitList" onClick="hitList()" class="hitlist" ></a>
      <label style="color:#fff; text-shadow:none; margin: 1% 26% 0 0%;">HIT LIST</label>
    </div>
    <div class="signinbox" style="margin-top:40px; margin-bottom:30px;"> <a data-role="button" href="#freeList" onClick="freeList()" class="free"></a>
      <label style="color:#fff; text-shadow:none; margin: 1% 0 0 19%;">FREE MUSIC</label>
    </div>
    </div>
  </div>
</div><!-- Search Page ends Here-->

<!-- Search Songs List Page Starts Here-->
<div data-role="page" id="searchTrack">
  <div data-role="panel" id="loginDetails" data-theme="a" data-position="left" data-display="overlay">
    <div data-theme="g" data-role="header" class="header header2">
      <h3>ZYKY </h3><img src="images/close1.png" alt="" class="close" data-rel="close">
    </div>
    <div data-role="content">
      <div class="profileDetails">
        <div class="profileImage"><img src="images/profileImg.png" alt=""></div>
        <br/>
        <div class="profileName">
          <h4>Greyson Sterling</h4>
          <h5>San Francisco, CA</h5>
        </div>
      </div>
      <div class="profileFeatures">
        <p><a href="#hitList" onClick="hitList()"><img src="images/hitlist_icon.png" alt=""> Hit List</a></p>
        <p><a href="#freeList" onClick="freeList()"><img src="images/freemusic_icon.png" alt=""> Free Music</a></p>
        <p><a href="#search"><img src="images/findmusic_icon.png" alt=""> Find Music</a></p>
        <p><a href="#"><img src="images/download_icon.png" alt="">My Downloads</a></p>
        <p><a href="#"><img src="images/user_icon.png" alt=""> User</a></p>
      </div>
    </div>
  </div>
  
  <div data-theme="g" data-role="header" class="header"> <a data-role="button" href="#loginDetails" class="ui-btn-left more" data-transition="slide"></a>
    <h3> Search Results </h3>
  </div>
  <div data-role="content">
  
  <div data-role="none" class="search-song">
  <!--playlist rendering-->
 
  </div>

    
  </div>
</div><!-- Search Songs List ends Here--> 

<!-- Download Page Starts Here-->
<div data-role="page" id="download">
  <div data-theme="g" data-role="header" class="header">
    <h3> DOWNLOAD </h3>
  </div>
  <div data-role="content" class="purchase">
    <h4>Click Here to Download</h4>
    <a data-role="button" href="#" class="ui-btn-left downloadBtn" data-transition="slide"></a><br/>
    <a data-role="button" href="#songsLibrary" class="ui-btn-left home" data-transition="slide"></a>
    <h4>HOME</h4>
  </div>
</div>
<!-- Download Page ends Here--> 

<!-- Media Player Page Starts Here-->
<div data-role="page" id="mediaPlayer">
  <div data-theme="g" data-role="header" class="header">
    <div class="playerHead">
      <div class="playerHeadinner">
        <div class="profiledetails">
          <h4>Greyson Sterling</h4>
          <h5><img src="images/mapicon.png" alt="">San Fancisco, CA</h5>
        </div>
        <div class="profileImg"> <img src="images/profileImg1.png" alt=""> </div>
      </div>
    </div>
  </div>
  <div data-role="content">
    <div class="playerMain">
      <div class="coverArt"><img src="images/cover_art.png" alt=""></div>
      <div class="playerControls">
        <div class="songDetails">
          <h4>Titanium (Featuring Sia)</h4>
          <h4>David Guetta</h4>
        </div>
        <div class="SongTimeBox" style="height:60px;">
         <input id="slider1" type="range" name="slider" value="5" min="0" max="100" data-highlight="true">
         <div class="timeElapsed" id="timeElapsed" style="float:left;">0:00</div>
         <div class="timeRemaining" style="float:right;">4:05</div>
        </div>
         <input type="hidden" id="mus_link" value=""/>
        <div class="controls">
          <input type="button" class="previous" value="&#160;">
          <input type="button" class="play" onClick="playAudio()" value="&#160;" style="background:url(images/controlBtns/Play.png) no-repeat;">
          <input type="button" class="next" value="&#160;">
        </div>
        <div class="controls1">
         <input type="button" class="suffle" value="&#160;">
         <input type="button" class="replay" value="&#160;">
        </div>
      </div>
    </div>
    <div class="tri"> <img src="images/tri1.png" alt=""> </div>
   
  </div>
</div>
<!-- Media Player ends Here-->

<!-- song list rendering-->
<script type="text/template" id="song-template">
	<div class="song one"> <img src="<%= album.image  %>" alt="">
		<div class="songHover">
			<div class="artistandSong">
				<h5>Artist: <%= artist.name  %></h5>
				<h4><%= title %></h4>
			</div>
			<div class="artistImg"> <img src="<%= artist.image  %>" alt=""> </div>
			<div class="songFeatures">
				<div class="playSmall">
					<a href="#" onclick="openMedia('http://dev.wiredelta.com:12001/tracks/<%= id %>/player.mp3')">
					<img src="images/playBtnSmall.png" alt="">
					</a>
				</div>
				<div class="cart">
					<a href="#" onclick="openCart('http://wiredelta.com:12001/tracks/<%= id %>/buy?user_token=')">
					<img src="images/cartsmall.png" alt="">
					</a>
				</div>
			</div><!--\songFeatures-->
		</div><!--\songHover-->
    </div><!--\song one-->
</script>

<!--free list rendering-->
<script type="text/template" id="free-template">

	<div class="song one"> <img src="<%= album.image  %>" alt="">
		<div class="songHover">
			<div class="artistandSong">
				<h5>Artist: <%= artist.name  %></h5>
				<h4><%= title %></h4>
			</div>
			<div class="artistImg"> <img src="<%= artist.image  %>" alt=""> </div>
			<div class="songFeatures">
				<div class="playSmall">
					<a href="#" onclick="openMedia('http://dev.wiredelta.com:12001/tracks/<%= id %>/player.mp3')">
					<img src="images/playBtnSmall.png" alt="">
					</a>
				</div>
				<div class="cart">
					<a href="#" onclick="openCart('http://wiredelta.com:12001/tracks/<%= id %>/buy?user_token=')">
					<img src="images/cartsmall.png" alt="">
					</a>
				</div>
			</div><!--\songFeatures-->
		</div><!--\songHover-->
    </div><!--\song one-->
   
</script>

<!--hit song list rendering-->
<script type="text/template" id="hit-template">

	<div class="song one"> <img src="<%= album.image  %>" alt="">
		<div class="songHover">
			<div class="artistandSong">
				<h5>Artist: <%= artist.name  %></h5>
				<h4><%= title %></h4>
			</div>
			<div class="artistImg"> <img src="<%= artist.image  %>" alt=""> </div>
			<div class="songFeatures">
				<div class="playSmall">
					<a href="#" onclick="openMedia('http://dev.wiredelta.com:12001/tracks/<%= id %>/player.mp3')">
					<img src="images/playBtnSmall.png" alt="">
					</a>
				</div>
				<div class="cart">
					<a href="#" onclick="openCart('http://wiredelta.com:12001/tracks/<%= id %>/buy?user_token=')">
					<img src="images/cartsmall.png" alt="">
					</a>
				</div>
			</div><!--\songFeatures-->
		</div><!--\songHover-->
    </div><!--\song one-->
   
</script>

<!--search song list rendering-->
<script type="text/template" id="track-template">

	<div class="song one"> <img src="<%= album.image  %>" alt="">
		<div class="songHover">
			<div class="artistandSong">
				<h5>Artist: <%= artist.name  %></h5>
				<h4><%= title %></h4>
			</div>
			<div class="artistImg"> <img src="<%= artist.image  %>" alt=""> </div>
			<div class="songFeatures">
				<div class="playSmall">
					<a href="#" onclick="openMedia('http://dev.wiredelta.com:12001/tracks/<%= id %>/player.mp3')">
					<img src="images/playBtnSmall.png" alt="">
					</a>
				</div>
				<div class="cart">
					<a href="#" onclick="openCart('http://wiredelta.com:12001/tracks/<%= id %>/buy?user_token=')">
					<img src="images/cartsmall.png" alt="">
					</a>
				</div>
			</div><!--\songFeatures-->
		</div><!--\songHover-->
    </div><!--\song one-->
   
</script>

</body>
</html>
